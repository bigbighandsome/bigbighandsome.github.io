import{d as x,o as n,g as m,j as e,_ as $,u as I,b as M,i as a,k as h,e as z,f as L,B as S,r as w,C as j,h as _,w as V,t as u,q,c as v,y as g,m as f}from"./index-1cf03590.js";import{C as A}from"./Comment-32fd3ae1.js";const R={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},T=e("path",{d:"M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81c-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0 0 18 0c96.26-65.34 184.09-143.09 183-252.42c-.54-52.67-42.32-96.81-95.08-96.81z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),E=[T],O=x({name:"HeartOutline",render:function(c,l){return n(),m("svg",R,E)}}),U={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},F=e("path",{d:"M256 448l-9-6c-42.78-28.57-96.91-60.86-137-108.32c-42.25-50-62.52-101.35-62-157C48.63 114.54 98.46 64 159.08 64c48.11 0 80.1 28 96.92 48.21C272.82 92 304.81 64 352.92 64c60.62 0 110.45 50.54 111.08 112.65c.56 55.68-19.71 107-62 157c-40.09 47.49-94.22 79.78-137 108.35z",fill:"currentColor"},null,-1),G=[F],J=x({name:"HeartSharp",render:function(c,l){return n(),m("svg",U,G)}});const K={class:"wrap"},P={class:"bcc"},Q={class:"like_container"},W={class:"like_num"},X={class:"title"},Y={class:"description"},Z={class:"content"},ee=["innerHTML"],te={__name:"Detail",setup(k){const c=I(),l=M(),r=a("axios"),b=a("message");a("dialog");const d=a("loadingBar"),t=h({id:null,title:"",categoryid:null,content:"",description:""}),i=z(!1),o=h({id:0,likeNum:0});L(()=>{y()});const y=async()=>{let p=c.query.id;d.start();let s=await r.get(`/blog/detail?id=${p}`);s.data.code==200?(o.id=s.data.rows[0].id,t.id=s.data.rows[0].id,t.title=s.data.rows[0].title,t.categoryid=s.data.rows[0].category_id,t.content=s.data.rows[0].content.replace(/src/g,"data-src"),t.description=s.data.rows[0].description,o.likeNum=s.data.rows[0].like_num==null?0:s.data.rows[0].like_num,i.value=o.likeNum!=0,d.finish()):(b.error("错误"),d.error())},C=()=>{l.push("/")},N=async()=>{o.likeNum++,i.value=o.likeNum!=0,await r.put("/blog/like",{id:o.id,likenum:o.likeNum})};return S(async()=>{await r.put("/blog/like",{id:o.id,likenum:o.likeNum})}),(p,s)=>{const B=w("n-back-top"),H=w("n-icon"),D=j("lazy-container");return n(),m("div",K,[e("div",P,[_(B,{right:14,bottom:10}),e("div",{class:"back_home"},[e("div",{class:"back_btn",onClick:C},"返回")]),e("div",Q,[_(H,{class:"like",onClick:N},{default:V(()=>[i.value?f("",!0):(n(),v(g(O),{key:0,class:"HeartIcon"})),i.value?(n(),v(g(J),{key:1,class:"HeartSharpIcon"})):f("",!0)]),_:1}),e("div",W,[e("span",null,u(o.likeNum),1)])]),e("div",X,[e("h2",null,u(t.title),1)]),e("div",Y,u(t.description),1),e("div",Z,[q(e("div",{class:"content-article",innerHTML:t.content},null,8,ee),[[D,{selector:"img"}]])]),_(A,{comment_article_id:t.id,comment_article_title:t.title},null,8,["comment_article_id","comment_article_title"])])])}}},ne=$(te,[["__scopeId","data-v-b74f75eb"]]);export{ne as default};
